import{f as J,a as G}from"../chunks/CkvC5g-O.js";import{o as _t}from"../chunks/s5CyTBDs.js";import{v as De,w as Re,y as ct,z as Me,A as ft,b as dt,s as me,h as A,D as ht,a as gt,X as a,a9 as bt,r as pt,c as mt,d as ze,e as ke,i as Y,I as kt,f as Xe,g as Ge,p as wt,ao as we,M as Ke,ap as yt,ae as St,aq as We,ar as Lt,as as Mt,L as xt,at as Et,m as At,au as Bt,av as Nt,C as Tt,x as Pt,aw as Ct,ax as It,ay as Ht,az as $t,aA as Ot,aB as Dt,k as Rt,a3 as zt,O as Wt,u as K,al as T,an as E,o as k,a1 as d,a0 as ye,P as qt,aC as Q,ad as i,aD as Vt,q as m,aE as qe}from"../chunks/Dx5OrvCP.js";import{d as Ut,a as Yt,s as D}from"../chunks/C7xnmedQ.js";import{i as Xt}from"../chunks/BaFfi30i.js";let Ve=!1;function Fe(){Ve||(Ve=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Gt(t){var e=ct,r=Me;De(null),Re(null);try{return t()}finally{De(e),Re(r)}}function Kt(t,e,r,n=r){t.addEventListener(e,()=>Gt(r));const s=t.__on_r;s?t.__on_r=()=>{s(),n(!0)}:t.__on_r=()=>n(!0),Fe()}function Ft(t,e){return e}function Jt(t,e,r,n){for(var s=[],o=e.length,v=0;v<o;v++)Mt(e[v].e,s,!0);var g=o>0&&s.length===0&&r!==null;if(g){var w=r.parentNode;xt(w),w.append(r),n.clear(),R(t,e[0].prev,e[o-1].next)}Et(s,()=>{for(var b=0;b<o;b++){var l=e[b];g||(n.delete(l.k),R(t,l.prev,l.next)),At(l.e,!g)}})}function Qt(t,e,r,n,s,o=null){var v=t,g={flags:e,items:new Map,first:null};{var w=t;v=A?me(ht(w)):w.appendChild(ft())}A&&gt();var b=null,l=!1,y=bt(()=>{var u=r();return Pt(u)?u:u==null?[]:Ke(u)});dt(()=>{var u=a(y),f=u.length;if(l&&f===0)return;l=f===0;let _=!1;if(A){var I=pt(v)===mt;I!==(f===0)&&(v=ze(),me(v),ke(!1),_=!0)}if(A){for(var N=null,h,S=0;S<f;S++){if(Y.nodeType===8&&Y.data===kt){v=Y,_=!0,ke(!1);break}var z=u[S],p=n(z,S);h=Je(Y,g,N,null,z,p,S,s,e,r),g.items.set(p,h),N=h}f>0&&me(ze())}A||Zt(u,g,v,s,e,n,r),o!==null&&(f===0?b?Xe(b):b=Ge(()=>o(v)):b!==null&&wt(b,()=>{b=null})),_&&ke(!0),a(y)}),A&&(v=Y)}function Zt(t,e,r,n,s,o,v){var g=t.length,w=e.items,b=e.first,l=b,y,u=null,f=[],_=[],I,N,h,S;for(S=0;S<g;S+=1){if(I=t[S],N=o(I,S),h=w.get(N),h===void 0){var z=l?l.e.nodes_start:r;u=Je(z,e,u,u===null?e.first:u.next,I,N,S,n,s,v),w.set(N,u),f=[],_=[],l=u.next;continue}if(jt(h,I,S),(h.e.f&we)!==0&&Xe(h.e),h!==l){if(y!==void 0&&y.has(h)){if(f.length<_.length){var p=_[0],B;u=p.prev;var L=f[0],V=f[f.length-1];for(B=0;B<f.length;B+=1)Ue(f[B],p,r);for(B=0;B<_.length;B+=1)y.delete(_[B]);R(e,L.prev,V.next),R(e,u,L),R(e,V,p),l=p,u=V,S-=1,f=[],_=[]}else y.delete(h),Ue(h,l,r),R(e,h.prev,h.next),R(e,h,u===null?e.first:u.next),R(e,u,h),u=h;continue}for(f=[],_=[];l!==null&&l.k!==N;)(l.e.f&we)===0&&(y??(y=new Set)).add(l),_.push(l),l=l.next;if(l===null)continue;h=l}f.push(h),u=h,l=h.next}if(l!==null||y!==void 0){for(var P=y===void 0?[]:Ke(y);l!==null;)(l.e.f&we)===0&&P.push(l),l=l.next;var H=P.length;if(H>0){var Z=g===0?r:null;Jt(e,P,Z,w)}}Me.first=e.first&&e.first.e,Me.last=u&&u.e}function jt(t,e,r,n){yt(t.v,e),t.i=r}function Je(t,e,r,n,s,o,v,g,w,b){var l=(w&Bt)!==0,y=(w&Nt)===0,u=l?y?St(s,!1,!1):We(s):s,f=(w&Lt)===0?v:We(v),_={i:f,v:u,k:o,a:null,e:null,prev:r,next:n};try{return _.e=Ge(()=>g(t,u,f,b),A),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?e.first=_:(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function Ue(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==n;){var v=Tt(o);s.before(o),o=v}}function R(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function er(t,e,r){var n=t==null?"":""+t;return n=n?n+" "+e:e,n===""?null:n}function tr(t,e,r,n,s,o){var v=t.__className;if(A||v!==r||v===void 0){var g=er(r,n);(!A||g!==t.getAttribute("class"))&&(g==null?t.removeAttribute("class"):t.className=g),t.__className=r}return o}const rr=Symbol("is custom element"),ar=Symbol("is html");function W(t){if(A){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;F(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var s=t.checked;F(t,"checked",null),t.checked=s}}};t.__on_r=r,Ct(r),Fe()}}function F(t,e,r,n){var s=nr(t);A&&(s[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||s[e]!==(s[e]=r)&&(e==="loading"&&(t[It]=r),r==null?t.removeAttribute(e):typeof r!="string"&&sr(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function nr(t){return t.__attributes??(t.__attributes={[rr]:t.nodeName.includes("-"),[ar]:t.namespaceURI===Ht})}var Ye=new Map;function sr(t){var e=Ye.get(t.nodeName);if(e)return e;Ye.set(t.nodeName,e=[]);for(var r,n=t,s=Element.prototype;s!==n;){r=Ot(n);for(var o in r)r[o].set&&e.push(o);n=$t(n)}return e}function q(t,e,r=e){var n=Dt();Kt(t,"input",s=>{var o=s?t.defaultValue:t.value;if(o=Se(t)?Le(o):o,r(o),n&&o!==(o=e())){var v=t.selectionStart,g=t.selectionEnd;t.value=o??"",g!==null&&(t.selectionStart=v,t.selectionEnd=Math.min(g,t.value.length))}}),(A&&t.defaultValue!==t.value||Rt(e)==null&&t.value)&&r(Se(t)?Le(t.value):t.value),zt(()=>{var s=e();Se(t)&&s===Le(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function Se(t){var e=t.type;return e==="number"||e==="range"}function Le(t){return t===""?null:+t}const lr=!0,Er=Object.freeze(Object.defineProperty({__proto__:null,prerender:lr},Symbol.toStringTag,{value:"Module"}));function ir(t,e,r,n){a(e)?(i(e,!1),a(r)&&(clearInterval(a(r)),i(r,0))):(i(e,!0),i(r,setInterval(()=>{i(n,a(n)-1)},1e3),!0))}function or(t,e,r,n,s){Q(e),a(e)>=a(r).length&&i(e,0),i(n,a(s),!0)}function vr(t,e,r,n,s){Q(e),a(e)>=a(r).length&&i(e,0),i(n,a(n)+a(s)),a(n)<0&&i(n,1)}function ur(t,e,r,n,s){Q(e),a(e)>=a(r).length&&i(e,0),i(n,a(s),!0)}function _r(t,e,r,n,s){Q(e,-1),a(e)<0&&i(e,a(r).length-1),i(n,a(s),!0)}var cr=J('<meta name="description" content="Svelte demo app"/>'),fr=J('<div><button class="unstyledbutton svelte-sghewl"> </button> <small style="font-size: 0.6rem; color: #aaa"></small></div>'),dr=(t,e)=>{i(e,a(e)+50)},hr=(t,e)=>{i(e,a(e)-50)},gr=(t,e)=>{i(e,5)},br=J('<div class="overlay svelte-sghewl"><div class="overlay-content svelte-sghewl"><p> </p> <p class="timer svelte-sghewl"> </p> <p> </p> <button class="svelte-sghewl">continue (from negative time)</button> <button class="svelte-sghewl"> </button></div></div>'),pr=(t,e,r,n,s)=>{i(e,r),i(n,s)},mr=(t,e,r,n,s)=>{i(e,r),i(n,s)},kr=(t,e,r,n,s)=>{i(e,r),i(n,s)},wr=J('<div class="app svelte-sghewl"><div id="backdrop" class="svelte-sghewl"><div id="top" style="position: relative; z-index: 1" class="svelte-sghewl"><div class="timercontainer svelte-sghewl"><div class="phasetext svelte-sghewl"><button class="arrowbutton svelte-sghewl">←</button> <div style="flex: 1; text-align: center"><span> </span></div> <button class="arrowbutton svelte-sghewl">→</button></div> <div style="display: flex; gap: 0.5rem"></div> <p class="timer svelte-sghewl"> </p> <div id="timerbuttonscontainer" class="svelte-sghewl"><button class="svelte-sghewl"> </button> <button class="svelte-sghewl">add time</button> <button class="svelte-sghewl">remove time</button> <button class="svelte-sghewl">skip</button></div></div> <!></div></div> <div class="bottom svelte-sghewl"><h1>Settings</h1> <div class="settings"><label for="shortBreaksBeforeLong">Short breaks before long</label> <input id="shortBreaksBeforeLong" type="number" min="1" max="10" style="width: 3rem; margin-left: 0.5rem"/> <br/> <h2>Phase Lengths</h2> <label for="workLengthMin">Work</label> <input id="workLengthMin" type="number" min="0" max="59"/> <input id="workLengthSec" type="number" min="0" max="60"/> <button title="reset work length" class="svelte-sghewl">↺</button> <br/> <label for="shortBreakLengthMin">Short Break</label> <input id="shortBreakLengthMin" type="number" min="0" max="59"/> <input id="shortBreakLengthSec" type="number" min="0" max="60"/> <button title="reset short break length" class="svelte-sghewl">↺</button> <br/> <label for="longBreakLengthMin">Long Break</label> <input id="longBreakLengthMin" type="number" min="0" max="59"/> <input id="longBreakLengthSec" type="number" min="0" max="60"/> <button title="reset long break length" class="svelte-sghewl">↺</button> <br/></div> <hr/> <footer>hi</footer></div></div>');function Ar(t,e){Wt(e,!0);let r=T(3);const n=25,s=0;let o=T(n),v=T(s);const g=5,w=0;let b=T(g),l=T(w);const y=30,u=0;let f=T(y),_=T(u),I=E(()=>a(o)*60+a(v)),N=E(()=>a(b)*60+a(l)),h=E(()=>a(f)*60+a(_));K(()=>{a(v)>=60&&(i(o,a(o)+1),i(v,0)),a(l)>=60&&(i(b,a(b)+1),i(l,0)),a(_)>=60&&(i(f,a(f)+1),i(_,0))});let S=E(()=>({work:a(I),short:a(N),long:a(h)}));const z=c=>{const x=[];for(let C=0;C<c;C++)x.push("work","short");return x.push("work","long"),x};let p=E(()=>z(a(r)));K(()=>{i(p,z(a(r)),!0)});const B=E(()=>a(p).map(c=>a(S)[c]));let L=T(0);const V=E(()=>a(p)[a(L)]),P=E(()=>a(B)[a(L)]),H={work:"Work",short:"Short Break",long:"Long Break"},Z={work:"W",short:"S",long:"L"};let xe=E(()=>H[a(p)[a(L)]]),M=E(()=>a(B)[0]),Qe=E(()=>Math.abs(a(M))%60),Ze=E(()=>Math.floor(Math.abs(a(M))/60)),j=E(()=>(a(M)<0?"-":"")+String(Math.abs(a(Ze))).padStart(2,"0")+":"+String(Math.abs(a(Qe))).padStart(2,"0")),ee=T(!1),je=T(0),te;_t(()=>{te=new Audio("/miku.mp3"),te.load()}),K(()=>{document.title=`${a(j)} - ${a(xe)} | Pomodoro Timer`}),K(()=>{a(M)===0&&a(ee)&&te.play().catch(c=>{console.warn("Alarm failed to play:",c)})});function et(c){i(L,c,!0),i(M,a(P),!0)}var re=wr();Yt(c=>{var x=cr();Vt.title="Home",G(c,x)});var ae=k(re),Ee=k(ae),ne=k(Ee),se=k(ne),Ae=k(se);Ae.__click=[_r,L,p,M,P];var le=d(Ae,2),Be=k(le),tt=k(Be,!0);m(Be),m(le);var rt=d(le,2);rt.__click=[ur,L,p,M,P],m(se);var ie=d(se,2);Qt(ie,21,()=>a(p),Ft,(c,x,C)=>{var $=fr(),O=k($);O.__click=()=>et(C);var U=k(O,!0);m(O);var ge=d(O,2);ge.textContent=C+1,m($),ye(()=>{tr($,1,`phaseline phaseline-${a(x)??""} ${C===a(L)?"active":""}`,"svelte-sghewl"),F(O,"title",H[a(x)]),F(O,"aria-label",H[a(x)]),D(U,Z[a(x)])}),G(c,$)}),m(ie);var oe=d(ie,2),at=k(oe,!0);m(oe);var Ne=d(oe,2),X=k(Ne);X.__click=[ir,ee,je,M];var nt=k(X,!0);m(X);var Te=d(X,2);Te.__click=[dr,M];var Pe=d(Te,2);Pe.__click=[hr,M];var st=d(Pe,2);st.__click=[gr,M],m(Ne),m(ne);var lt=d(ne,2);{var it=c=>{var x=br(),C=k(x),$=k(C),O=k($);m($);var U=d($,2),ge=k(U,!0);m(U);var be=d(U,2),vt=k(be);m(be);var Oe=d(be,2);Oe.__click=[vr,L,p,M,P];var pe=d(Oe,2);pe.__click=[or,L,p,M,P];var ut=k(pe);m(pe),m(C),m(x),ye(()=>{D(O,`${a(xe)??""} is over!`),D(ge,a(j)),D(vt,`now: ${H[a(p)[(a(L)+1)%a(p).length]]??""}`),D(ut,`restart ${H[a(p)[(a(L)+1)%a(p).length]]??""} from beginning`)}),G(c,x)};Xt(lt,c=>{a(M)<0&&c(it)})}m(Ee),m(ae);var Ce=d(ae,2),Ie=d(k(Ce),2),ve=d(k(Ie),2);W(ve);var ue=d(ve,8);W(ue);var _e=d(ue,2);W(_e);var He=d(_e,2);He.__click=[pr,o,n,v,s];var ce=d(He,6);W(ce);var fe=d(ce,2);W(fe);var $e=d(fe,2);$e.__click=[mr,b,g,l,w];var de=d($e,6);W(de);var he=d(de,2);W(he);var ot=d(he,2);ot.__click=[kr,f,y,_,u],qe(2),m(Ie),qe(4),m(Ce),m(re),ye(()=>{D(tt,H[a(V)]),D(at,a(j)),D(nt,a(ee)?"pause":"start")}),q(ve,()=>a(r),c=>i(r,c)),q(ue,()=>a(o),c=>i(o,c)),q(_e,()=>a(v),c=>i(v,c)),q(ce,()=>a(b),c=>i(b,c)),q(fe,()=>a(l),c=>i(l,c)),q(de,()=>a(f),c=>i(f,c)),q(he,()=>a(_),c=>i(_,c)),G(t,re),qt()}Ut(["click"]);export{Ar as component,Er as universal};
