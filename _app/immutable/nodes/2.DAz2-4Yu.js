import{f as J,a as G}from"../chunks/CkvC5g-O.js";import{o as _t}from"../chunks/s5CyTBDs.js";import{v as De,w as Re,y as ct,z as we,A as ft,b as dt,s as me,h as A,D as ht,a as gt,X as a,a9 as bt,r as pt,c as mt,d as ze,e as ke,i as Y,I as kt,f as Xe,g as Ge,p as yt,ao as ye,M as Ke,ap as St,ae as Lt,aq as We,ar as Mt,as as wt,L as xt,at as Et,m as At,au as Bt,av as Nt,C as Tt,x as Pt,aw as Ct,ax as It,ay as Ht,az as $t,aA as Ot,aB as Dt,k as Rt,a3 as zt,O as Wt,u as K,al as T,an as E,o as k,a1 as d,a0 as Se,P as qt,aC as Q,ad as i,aD as Vt,q as m,aE as qe}from"../chunks/Dx5OrvCP.js";import{d as Ut,a as Yt,s as D}from"../chunks/C7xnmedQ.js";import{i as Xt}from"../chunks/BaFfi30i.js";let Ve=!1;function Fe(){Ve||(Ve=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Gt(t){var e=ct,r=we;De(null),Re(null);try{return t()}finally{De(e),Re(r)}}function Kt(t,e,r,n=r){t.addEventListener(e,()=>Gt(r));const s=t.__on_r;s?t.__on_r=()=>{s(),n(!0)}:t.__on_r=()=>n(!0),Fe()}function Ft(t,e){return e}function Jt(t,e,r,n){for(var s=[],o=e.length,u=0;u<o;u++)wt(e[u].e,s,!0);var g=o>0&&s.length===0&&r!==null;if(g){var y=r.parentNode;xt(y),y.append(r),n.clear(),R(t,e[0].prev,e[o-1].next)}Et(s,()=>{for(var b=0;b<o;b++){var l=e[b];g||(n.delete(l.k),R(t,l.prev,l.next)),At(l.e,!g)}})}function Qt(t,e,r,n,s,o=null){var u=t,g={flags:e,items:new Map,first:null};{var y=t;u=A?me(ht(y)):y.appendChild(ft())}A&&gt();var b=null,l=!1,S=bt(()=>{var v=r();return Pt(v)?v:v==null?[]:Ke(v)});dt(()=>{var v=a(S),f=v.length;if(l&&f===0)return;l=f===0;let _=!1;if(A){var I=pt(u)===mt;I!==(f===0)&&(u=ze(),me(u),ke(!1),_=!0)}if(A){for(var N=null,h,L=0;L<f;L++){if(Y.nodeType===8&&Y.data===kt){u=Y,_=!0,ke(!1);break}var z=v[L],p=n(z,L);h=Je(Y,g,N,null,z,p,L,s,e,r),g.items.set(p,h),N=h}f>0&&me(ze())}A||Zt(v,g,u,s,e,n,r),o!==null&&(f===0?b?Xe(b):b=Ge(()=>o(u)):b!==null&&yt(b,()=>{b=null})),_&&ke(!0),a(S)}),A&&(u=Y)}function Zt(t,e,r,n,s,o,u){var g=t.length,y=e.items,b=e.first,l=b,S,v=null,f=[],_=[],I,N,h,L;for(L=0;L<g;L+=1){if(I=t[L],N=o(I,L),h=y.get(N),h===void 0){var z=l?l.e.nodes_start:r;v=Je(z,e,v,v===null?e.first:v.next,I,N,L,n,s,u),y.set(N,v),f=[],_=[],l=v.next;continue}if(jt(h,I,L),(h.e.f&ye)!==0&&Xe(h.e),h!==l){if(S!==void 0&&S.has(h)){if(f.length<_.length){var p=_[0],B;v=p.prev;var M=f[0],V=f[f.length-1];for(B=0;B<f.length;B+=1)Ue(f[B],p,r);for(B=0;B<_.length;B+=1)S.delete(_[B]);R(e,M.prev,V.next),R(e,v,M),R(e,V,p),l=p,v=V,L-=1,f=[],_=[]}else S.delete(h),Ue(h,l,r),R(e,h.prev,h.next),R(e,h,v===null?e.first:v.next),R(e,v,h),v=h;continue}for(f=[],_=[];l!==null&&l.k!==N;)(l.e.f&ye)===0&&(S??(S=new Set)).add(l),_.push(l),l=l.next;if(l===null)continue;h=l}f.push(h),v=h,l=h.next}if(l!==null||S!==void 0){for(var P=S===void 0?[]:Ke(S);l!==null;)(l.e.f&ye)===0&&P.push(l),l=l.next;var H=P.length;if(H>0){var Z=g===0?r:null;Jt(e,P,Z,y)}}we.first=e.first&&e.first.e,we.last=v&&v.e}function jt(t,e,r,n){St(t.v,e),t.i=r}function Je(t,e,r,n,s,o,u,g,y,b){var l=(y&Bt)!==0,S=(y&Nt)===0,v=l?S?Lt(s,!1,!1):We(s):s,f=(y&Mt)===0?u:We(u),_={i:f,v,k:o,a:null,e:null,prev:r,next:n};try{return _.e=Ge(()=>g(t,v,f,b),A),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?e.first=_:(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function Ue(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==n;){var u=Tt(o);s.before(o),o=u}}function R(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function er(t,e,r){var n=t==null?"":""+t;return n=n?n+" "+e:e,n===""?null:n}function tr(t,e,r,n,s,o){var u=t.__className;if(A||u!==r||u===void 0){var g=er(r,n);(!A||g!==t.getAttribute("class"))&&(g==null?t.removeAttribute("class"):t.className=g),t.__className=r}return o}const rr=Symbol("is custom element"),ar=Symbol("is html");function W(t){if(A){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;F(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var s=t.checked;F(t,"checked",null),t.checked=s}}};t.__on_r=r,Ct(r),Fe()}}function F(t,e,r,n){var s=nr(t);A&&(s[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||s[e]!==(s[e]=r)&&(e==="loading"&&(t[It]=r),r==null?t.removeAttribute(e):typeof r!="string"&&sr(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function nr(t){return t.__attributes??(t.__attributes={[rr]:t.nodeName.includes("-"),[ar]:t.namespaceURI===Ht})}var Ye=new Map;function sr(t){var e=Ye.get(t.nodeName);if(e)return e;Ye.set(t.nodeName,e=[]);for(var r,n=t,s=Element.prototype;s!==n;){r=Ot(n);for(var o in r)r[o].set&&e.push(o);n=$t(n)}return e}function q(t,e,r=e){var n=Dt();Kt(t,"input",s=>{var o=s?t.defaultValue:t.value;if(o=Le(t)?Me(o):o,r(o),n&&o!==(o=e())){var u=t.selectionStart,g=t.selectionEnd;t.value=o??"",g!==null&&(t.selectionStart=u,t.selectionEnd=Math.min(g,t.value.length))}}),(A&&t.defaultValue!==t.value||Rt(e)==null&&t.value)&&r(Le(t)?Me(t.value):t.value),zt(()=>{var s=e();Le(t)&&s===Me(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function Le(t){var e=t.type;return e==="number"||e==="range"}function Me(t){return t===""?null:+t}const lr=!0,Er=Object.freeze(Object.defineProperty({__proto__:null,prerender:lr},Symbol.toStringTag,{value:"Module"}));function ir(t,e,r,n){a(e)?(i(e,!1),a(r)&&(clearInterval(a(r)),i(r,0))):(i(e,!0),i(r,setInterval(()=>{i(n,a(n)-1)},1e3),!0))}function or(t,e,r,n,s){Q(e),a(e)>=a(r).length&&i(e,0),i(n,a(s),!0)}function ur(t,e,r,n,s){Q(e),a(e)>=a(r).length&&i(e,0),i(n,a(n)+a(s)),a(n)<0&&i(n,1)}function vr(t,e,r,n,s){Q(e),a(e)>=a(r).length&&i(e,0),i(n,a(s),!0)}function _r(t,e,r,n,s){Q(e,-1),a(e)<0&&i(e,a(r).length-1),i(n,a(s),!0)}var cr=J('<meta name="description" content="Svelte demo app"/>'),fr=J('<div><button class="unstyledbutton svelte-196htgu"> </button> <small style="font-size: 0.6rem; color: #aaa"></small></div>'),dr=(t,e)=>{i(e,a(e)+50)},hr=(t,e)=>{i(e,a(e)-50)},gr=(t,e)=>{i(e,5)},br=J('<div class="overlay svelte-196htgu"><div class="overlay-content svelte-196htgu"><p> </p> <p class="timer svelte-196htgu"> </p> <p> </p> <button class="svelte-196htgu">continue (from negative time)</button> <button class="svelte-196htgu"> </button></div></div>'),pr=(t,e,r,n,s)=>{i(e,r),i(n,s)},mr=(t,e,r,n,s)=>{i(e,r),i(n,s)},kr=(t,e,r,n,s)=>{i(e,r),i(n,s)},yr=J('<div class="app svelte-196htgu"><div id="backdrop" class="svelte-196htgu"><div id="top" style="position: relative; z-index: 1" class="svelte-196htgu"><div class="timercontainer svelte-196htgu"><div class="phasetext svelte-196htgu"><button class="arrowbutton svelte-196htgu">←</button> <div style="flex: 1; text-align: center"><span> </span></div> <button class="arrowbutton svelte-196htgu">→</button></div> <div style="display: flex; gap: 0.5rem"></div> <p class="timer svelte-196htgu"> </p> <div id="timerbuttonscontainer" class="svelte-196htgu"><button class="svelte-196htgu"> </button> <button class="svelte-196htgu">add time</button> <button class="svelte-196htgu">remove time</button> <button class="svelte-196htgu">skip</button></div></div> <!></div></div> <div class="bottom svelte-196htgu"><h1>Settings</h1> <div class="settings"><label for="shortBreaksBeforeLong">Short breaks before long</label> <input id="shortBreaksBeforeLong" type="number" min="1" max="10" style="width: 3rem; margin-left: 0.5rem"/> <br/> <h2>Phase Lengths</h2> <label for="workLengthMin">Work</label> <input id="workLengthMin" type="number" min="0" max="59"/> <input id="workLengthSec" type="number" min="0" max="60"/> <button title="reset work length" class="svelte-196htgu">↺</button> <br/> <label for="shortBreakLengthMin">Short Break</label> <input id="shortBreakLengthMin" type="number" min="0" max="59"/> <input id="shortBreakLengthSec" type="number" min="0" max="60"/> <button title="reset short break length" class="svelte-196htgu">↺</button> <br/> <label for="longBreakLengthMin">Long Break</label> <input id="longBreakLengthMin" type="number" min="0" max="59"/> <input id="longBreakLengthSec" type="number" min="0" max="60"/> <button title="reset long break length" class="svelte-196htgu">↺</button> <br/></div> <hr/> <footer>hi</footer></div></div>');function Ar(t,e){Wt(e,!0);let r=T(3);const n=25,s=0;let o=T(n),u=T(s);const g=5,y=0;let b=T(g),l=T(y);const S=30,v=0;let f=T(S),_=T(v),I=E(()=>a(o)*60+a(u)),N=E(()=>a(b)*60+a(l)),h=E(()=>a(f)*60+a(_));K(()=>{a(u)>=60&&(i(o,a(o)+1),i(u,0)),a(l)>=60&&(i(b,a(b)+1),i(l,0)),a(_)>=60&&(i(f,a(f)+1),i(_,0))});let L=E(()=>({work:a(I),short:a(N),long:a(h)}));const z=c=>{const x=[];for(let C=0;C<c;C++)x.push("work","short");return x.push("work","long"),x};let p=E(()=>z(a(r)));K(()=>{i(p,z(a(r)),!0)});const B=E(()=>a(p).map(c=>a(L)[c]));let M=T(0);const V=E(()=>a(p)[a(M)]),P=E(()=>a(B)[a(M)]),H={work:"Work",short:"Short Break",long:"Long Break"},Z={work:"W",short:"S",long:"L"};let xe=E(()=>H[a(p)[a(M)]]),w=E(()=>a(B)[0]),Qe=E(()=>Math.abs(a(w))%60),Ze=E(()=>Math.floor(Math.abs(a(w))/60)),j=E(()=>(a(w)<0?"-":"")+String(Math.abs(a(Ze))).padStart(2,"0")+":"+String(Math.abs(a(Qe))).padStart(2,"0")),ee=T(!1),je=T(0),te;_t(()=>{te=new Audio("/miku.mp3"),te.load()}),K(()=>{document.title=`${a(j)} - ${a(xe)} | Pomodoro Timer`}),K(()=>{a(w)===0&&a(ee)&&te.play().catch(c=>{console.warn("Alarm failed to play:",c)})});function et(c){i(M,c,!0),i(w,a(P),!0)}var re=yr();Yt(c=>{var x=cr();Vt.title="Home",G(c,x)});var ae=k(re),Ee=k(ae),ne=k(Ee),se=k(ne),Ae=k(se);Ae.__click=[_r,M,p,w,P];var le=d(Ae,2),Be=k(le),tt=k(Be,!0);m(Be),m(le);var rt=d(le,2);rt.__click=[vr,M,p,w,P],m(se);var ie=d(se,2);Qt(ie,21,()=>a(p),Ft,(c,x,C)=>{var $=fr(),O=k($);O.__click=()=>et(C);var U=k(O,!0);m(O);var ge=d(O,2);ge.textContent=C+1,m($),Se(()=>{tr($,1,`phaseline phaseline-${a(x)??""} ${C===a(M)?"active":""}`,"svelte-196htgu"),F(O,"title",H[a(x)]),F(O,"aria-label",H[a(x)]),D(U,Z[a(x)])}),G(c,$)}),m(ie);var oe=d(ie,2),at=k(oe,!0);m(oe);var Ne=d(oe,2),X=k(Ne);X.__click=[ir,ee,je,w];var nt=k(X,!0);m(X);var Te=d(X,2);Te.__click=[dr,w];var Pe=d(Te,2);Pe.__click=[hr,w];var st=d(Pe,2);st.__click=[gr,w],m(Ne),m(ne);var lt=d(ne,2);{var it=c=>{var x=br(),C=k(x),$=k(C),O=k($);m($);var U=d($,2),ge=k(U,!0);m(U);var be=d(U,2),ut=k(be);m(be);var Oe=d(be,2);Oe.__click=[ur,M,p,w,P];var pe=d(Oe,2);pe.__click=[or,M,p,w,P];var vt=k(pe);m(pe),m(C),m(x),Se(()=>{D(O,`${a(xe)??""} is over!`),D(ge,a(j)),D(ut,`now: ${H[a(p)[(a(M)+1)%a(p).length]]??""}`),D(vt,`restart ${H[a(p)[(a(M)+1)%a(p).length]]??""} from beginning`)}),G(c,x)};Xt(lt,c=>{a(w)<0&&c(it)})}m(Ee),m(ae);var Ce=d(ae,2),Ie=d(k(Ce),2),ue=d(k(Ie),2);W(ue);var ve=d(ue,8);W(ve);var _e=d(ve,2);W(_e);var He=d(_e,2);He.__click=[pr,o,n,u,s];var ce=d(He,6);W(ce);var fe=d(ce,2);W(fe);var $e=d(fe,2);$e.__click=[mr,b,g,l,y];var de=d($e,6);W(de);var he=d(de,2);W(he);var ot=d(he,2);ot.__click=[kr,f,S,_,v],qe(2),m(Ie),qe(4),m(Ce),m(re),Se(()=>{D(tt,H[a(V)]),D(at,a(j)),D(nt,a(ee)?"pause":"start")}),q(ue,()=>a(r),c=>i(r,c)),q(ve,()=>a(o),c=>i(o,c)),q(_e,()=>a(u),c=>i(u,c)),q(ce,()=>a(b),c=>i(b,c)),q(fe,()=>a(l),c=>i(l,c)),q(de,()=>a(f),c=>i(f,c)),q(he,()=>a(_),c=>i(_,c)),G(t,re),qt()}Ut(["click"]);export{Ar as component,Er as universal};
